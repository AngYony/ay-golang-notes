# Go的基础知识

[TOC]

## 名称

Go语言中，定义一个名称（函数、变量、常量、类型、语句标签、包）需要遵循的规则：

- 名称必须以字母或下划线开头，其后由任意数量的数字、字母、下划线组成。
- 名称严格区分大小写，并且首字母的大小写决定了该名称的可见性是否挎包。
- 如果定义的名称想要被自己包之外的其他程序所引用，那么该名称必须以大写字母开头。
- 包的名称总是由小写字母组成。
- 在Go的编码风格中，名称习惯使用短名称，特别是作用域较小的局部变量。通常，名称的作用域越大，就使用越长且更有意义的名称。
- 名称由多个单词组合时，使用“驼峰式”风格（第一个单词首字母小写，其余单词首字母大写），而不是下划线。并且，当某个单词是由缩写形式构成的（例如：HTML），通常该单词在“驼峰式”风格中，使用相同的大小写。（例如：htmlEscape、HTMLEscape或escapeHTML，但不会是escapeHtml。）
- 不能与Go内置的关键字、预声明的常量、类型和函数同名。



## 声明

声明主要包括：变量（var）的声明、常量（const）的声明、类型（type）的声明、函数（func）的声明。

Go程序存储在一个或多个以.go为后缀的文件里，每一个文件都以package声明开头，表明文件属于哪个包。package后面是import声明，然后是包级别的类型、变量、常量、函数的声明。

注意：

- 包级别的声明是不区分顺序的。
- 包级别的声明对于同一个包里面的所有源文件都可见。
- 如果包级别的声明是以大写字母开头的，那么将会被自己包之外的其他程序可见。
- 局部声明仅在声明所在的函数内部可见，并且可能只对函数中的一小块区域可见。



## 赋值

赋值语句用来更新变量所指的值。

```go
x = 1                       //有名称的变量赋值
*p = true                   //间接变量赋值
person.name = "bob"         //结构体成员赋值
count[x] = count[x] * scale //数组元素的赋值
y *= 2                      //等同于：y=y*2
v++
v--
```

### 多重赋值

多重赋值：多个变量一次性被赋值。

```go
i, j, k = 2, 3, 5
```

多重赋值在实际更新变量前，右边所有的表达式会先被推演。

示例一，交换两个变量的值：

```go
x，y = y, x
a[i], a[j] = a[j], a[i]
```

示例二，计算两个整数的最大公约数：

```go
func gcd(x, y int) int {
	for y != 0 {
		x, y = y, x%y
	}
	return x
}
```

示例三，计算斐波那契数列的第n个数：

```go
func fib(n int) int {
	x, y := 0, 1
	for i := 0; i < n; i++ {
		x, y = y, x+y
	}
	return x
}
```

### 可赋值性

不管隐式还是显式赋值，如果左边的变量和右边的值类型相同，它就是合法的。

nil可以被赋给任何接口变量或引用类型。

如果两个值能够使用==和!=进行比较，必须满足的条件：其中一个操作数相对于另一个操作数的类型必须是可赋值的。