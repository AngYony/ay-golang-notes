# Go - fmt



## fmt.Printf

### %f

%f 指定被打印小数的位数，将根据给定的宽度和精度格式化变量的值。精度用于指定小数点之后应该出现的数字数量。宽度指定了包括整数部分、小数部分和小数点在内，一共需要显示的最小字符数量。实际数量不足的，使用空格填充输出的左侧。

例如：%5.2f，指的是其中宽度为5（整个输出的数字字符的长度为5），精度为2。

```go
fmt.Printf("%5.2f", 0.33333)    //输出： 0.33，注意左侧有空格
fmt.Printf("%.2f", 0.3456)		//输出：0.35

//使用数字0而不是空格来填充输出的左侧
fmt.Printf("%05.2f\n", 0.33333) //输出：00.33
```



### %T

查看指定变量的类型。一般用于调试时，推断输出某个变量的类型。

```go
a := []int{1}
fmt.Printf("%T", a)		//输出：[]int
```

### %v

输出变量的值。

```go
a := []int{1, 2, 3}
fmt.Printf("%v", a)		//输出：[1 2 3]
```

### %q

会包含双引号的输出。

```go
wy := "abc"
fmt.Printf("%v  \n", wy) //输出：abc
fmt.Printf("%q", wy)     //输出："abc"
```

### %s

输出字符串

```go
s := "中国"
fmt.Printf("%s \n", s)      //输出：中国
fmt.Printf("%s", []byte(s)) //输出：中国
```







### 同一个变量的多次匹配格式符

```go
year = 12
fmt.Printf("%v 的类型为：%T  \n", year, year)		
```

上述%v和%T同时使用变量year，可以使用如下形式指明第二个格式符重复使用第一个格式符的变量：

```go
fmt.Printf("%v 的类型为：%[1]T  \n", year)
```

### %d、%o、%d、%b

使用fmt包输出数字时，可以使用谓词%b、%d、%o、%x指定进位制基数和输出格式，%d表示10进制，%o表示八进制，%x表示十六进制，%b表示二进制。

```go
o := 0666                           //定义一个八进制数
fmt.Printf("%d \n", o)              //输出：438
fmt.Printf("%o \n", o)              //输出：666
fmt.Printf("%#o \n", o)             //按照标准前缀，输出：0666
fmt.Printf("%d %[1]o %#[1]o \n", o) //输出：438 666 0666

fmt.Printf("%x \n", o)  //输出：1b6
fmt.Printf("%X \n", o)  //输出：1B6
fmt.Printf("%#x \n", o) //输出：0x1b6

x := int64(0xdeadbeef)                   //定义十六进制数
fmt.Printf("%d %[1]x %#[1]x %#[1]X ", x) // 输出：3735928559 deadbeef 0xdeadbeef 0XDEADBEEF
```

谓词%后的[1]告知Printf重复使用第一个操作数；%后的#告知Printf输出相应的前缀0（八进制）、0x或0X（十六进制）。除了十进制外，为了能够标准的输出对应进制位的值，建议始终使用#。

### %c

输出字符值。

```go
var A rune = 65
var pi rune = 960 //π的代码点
fmt.Printf("%c %c", A, pi)	//输出：A π
```

